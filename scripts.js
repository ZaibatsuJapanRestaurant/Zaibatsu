document.addEventListener("DOMContentLoaded", function() {
    const audio = document.getElementById("background-music");
    const toggleButton = document.getElementById("toggle-button");
    const playIcon = document.getElementById("play-icon");

    // Verificar si la música ya está en reproducción
    if (localStorage.getItem("musicPlaying") === "true") {
        audio.play();
    } else {
        audio.pause();
    }

    // Almacenar el estado de la música
    audio.addEventListener("play", function() {
        localStorage.setItem("musicPlaying", "true");
        playIcon.classList.remove("fa-play");
        playIcon.classList.add("fa-pause");
    });

    audio.addEventListener("pause", function() {
        localStorage.setItem("musicPlaying", "false");
        playIcon.classList.remove("fa-pause");
        playIcon.classList.add("fa-play");
    });

    // Controlar la reproducción
    toggleButton.addEventListener("click", function() {
        if (audio.paused) {
            audio.play();
        } else {
            audio.pause();
        }
    });
});
